\hypertarget{class_tournament}{}\doxysection{Referencia de la Clase Tournament}
\label{class_tournament}\index{Tournament@{Tournament}}


Contiene la información de un torneo y permite hacer operaciones con él.  




{\ttfamily \#include $<$Tournament.\+hh$>$}

\doxysubsection*{Métodos públicos}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_tournament_ad28a8cda268e707f934a4905070a2c6a}{Tournament}} (int c)
\begin{DoxyCompactList}\small\item\em Creadora. \end{DoxyCompactList}\item 
\mbox{\hyperlink{class_tournament_a87cc832c6612caebcab61d1bea7ef1ac}{Tournament}} ()
\begin{DoxyCompactList}\small\item\em Creadora. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_tournament_a472c936ae35e595c94fad08a3d329ae8}{start\+\_\+tournament}} (const vector$<$ string $>$ \&players)
\begin{DoxyCompactList}\small\item\em Empieza el torneo. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_tournament_aefc4287f04cc067cd56d40b763bf15a7}{end\+\_\+tournament}} (map$<$ string, int $>$ \&old, map$<$ string, \mbox{\hyperlink{class_statistics}{Statistics}} $>$ \&res, const vector$<$ int $>$ \&rank\+\_\+scores)
\begin{DoxyCompactList}\small\item\em Finaliza el torneo. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_tournament_aabebb280fb2d4da7e95160a055cde31c}{remove\+\_\+player\+\_\+from\+\_\+results}} (const string \&name)
\begin{DoxyCompactList}\small\item\em Elimina un jugador de los resultados antiguos. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{class_tournament_a4648690ed8b2360f09468922d54e11d5}{get\+\_\+category}} () const
\begin{DoxyCompactList}\small\item\em Obtiene la categoría del torneo. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{class_tournament_a84e2f41b58f2654ff2b84d18679e1c2c}{has\+\_\+started}} () const
\begin{DoxyCompactList}\small\item\em Obtiene el estado del torneo. \end{DoxyCompactList}\item 
map$<$ string, int $>$ \mbox{\hyperlink{class_tournament_afd4f12c053ce5ee946d8d22de28ef2d2}{get\+\_\+old\+\_\+results}} () const
\begin{DoxyCompactList}\small\item\em Obtiene los resultados del torneo en un diccionario. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{class_tournament_ae54cbe8d2c187903d04e1475d60a2970}{print\+\_\+starting\+\_\+pairs}} ()
\begin{DoxyCompactList}\small\item\em Imprime el cuadro de resultados. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Descripción detallada}
Contiene la información de un torneo y permite hacer operaciones con él. 

Definición en la línea \mbox{\hyperlink{_tournament_8hh_source_l00024}{24}} del archivo \mbox{\hyperlink{_tournament_8hh_source}{Tournament.\+hh}}.



\doxysubsection{Documentación del constructor y destructor}
\mbox{\Hypertarget{class_tournament_ad28a8cda268e707f934a4905070a2c6a}\label{class_tournament_ad28a8cda268e707f934a4905070a2c6a}} 
\index{Tournament@{Tournament}!Tournament@{Tournament}}
\index{Tournament@{Tournament}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{Tournament()}{Tournament()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Tournament\+::\+Tournament (\begin{DoxyParamCaption}\item[{int}]{c }\end{DoxyParamCaption})}



Creadora. 

\begin{DoxyPrecond}{Precondición}
{\itshape cierto} 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Crea un torneo nuevo con categoría \textquotesingle{}c\textquotesingle{} 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00007}{7}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00007                             \{}
\DoxyCodeLine{00008   this-\/>c = c;}
\DoxyCodeLine{00009 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tournament_a87cc832c6612caebcab61d1bea7ef1ac}\label{class_tournament_a87cc832c6612caebcab61d1bea7ef1ac}} 
\index{Tournament@{Tournament}!Tournament@{Tournament}}
\index{Tournament@{Tournament}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{Tournament()}{Tournament()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Tournament\+::\+Tournament (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Creadora. 

\begin{DoxyPrecond}{Precondición}
{\itshape cierto} 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Crea un torneo nuevo con categoría 0 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00003}{3}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00003                        \{}
\DoxyCodeLine{00004   c = 0;}
\DoxyCodeLine{00005 \}}

\end{DoxyCode}


\doxysubsection{Documentación de las funciones miembro}
\mbox{\Hypertarget{class_tournament_aefc4287f04cc067cd56d40b763bf15a7}\label{class_tournament_aefc4287f04cc067cd56d40b763bf15a7}} 
\index{Tournament@{Tournament}!end\_tournament@{end\_tournament}}
\index{end\_tournament@{end\_tournament}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{end\_tournament()}{end\_tournament()}}
{\footnotesize\ttfamily void Tournament\+::end\+\_\+tournament (\begin{DoxyParamCaption}\item[{map$<$ string, int $>$ \&}]{old,  }\item[{map$<$ string, \mbox{\hyperlink{class_statistics}{Statistics}} $>$ \&}]{res,  }\item[{const vector$<$ int $>$ \&}]{rank\+\_\+scores }\end{DoxyParamCaption})}



Finaliza el torneo. 

\begin{DoxyPrecond}{Precondición}
El torneo está empezado y no ha sido terminado ya. En el canal de entrada se encuentran los resultados de los partidos en el formato correcto. El vector {\ttfamily rank\+\_\+scores} está asociado a la categoría {\ttfamily c} y tiene {\ttfamily K} elementos en orden creciente de rango que indican las puntuaciones por rango. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
{\ttfamily old} contiene las puntuaciones que deben restarse a los jugadores que jugaron la edición pasada del torneo. {\ttfamily results} a las estadísticas de cada jugador en el torneo, que serviran para actualizar el ranking. En el canal de salida hay la tabla de resultados y las puntuaciones que ha obtenido cada jugador, ordenado por el ranking original. 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00025}{25}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00025                                                                                                                    \{}
\DoxyCodeLine{00026   started = \textcolor{keyword}{false};}
\DoxyCodeLine{00027   old = old\_results;}
\DoxyCodeLine{00028   read\_matches(results);}
\DoxyCodeLine{00029   print\_table(results);}
\DoxyCodeLine{00030   cout << endl;}
\DoxyCodeLine{00031   vector<int> p(names.size());}
\DoxyCodeLine{00032   calculate\_rankings(results, rank\_scores, p, 1);}
\DoxyCodeLine{00033   res.clear();}
\DoxyCodeLine{00034   \textcolor{keywordtype}{int} n = stats.size();}
\DoxyCodeLine{00035   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n; ++i) \{}
\DoxyCodeLine{00036     \textcolor{keywordflow}{if} (stats[i].get\_points() != 0) cout << i+1 << \textcolor{charliteral}{'.'} << names[i] << \textcolor{charliteral}{' '} << stats[i].get\_points() << endl;}
\DoxyCodeLine{00037     res[names[i]] = stats[i];}
\DoxyCodeLine{00038   \}}
\DoxyCodeLine{00039 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tournament_a4648690ed8b2360f09468922d54e11d5}\label{class_tournament_a4648690ed8b2360f09468922d54e11d5}} 
\index{Tournament@{Tournament}!get\_category@{get\_category}}
\index{get\_category@{get\_category}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{get\_category()}{get\_category()}}
{\footnotesize\ttfamily int Tournament\+::get\+\_\+category (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Obtiene la categoría del torneo. 

\begin{DoxyPrecond}{Precondición}
{\itshape cierto} 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Retorna el valor de {\ttfamily this-\/\texorpdfstring{$>$}{>}c} 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00066}{66}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00066                                    \{}
\DoxyCodeLine{00067   \textcolor{keywordflow}{return} c;}
\DoxyCodeLine{00068 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tournament_afd4f12c053ce5ee946d8d22de28ef2d2}\label{class_tournament_afd4f12c053ce5ee946d8d22de28ef2d2}} 
\index{Tournament@{Tournament}!get\_old\_results@{get\_old\_results}}
\index{get\_old\_results@{get\_old\_results}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{get\_old\_results()}{get\_old\_results()}}
{\footnotesize\ttfamily map$<$ string, int $>$ Tournament\+::get\+\_\+old\+\_\+results (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Obtiene los resultados del torneo en un diccionario. 

\begin{DoxyPrecond}{Precondición}
{\itshape cierto} 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Retorna un mapa con llaves los nombres de los jugadores y valores sus puntuaciones en la última edición del torneo. 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00059}{59}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00059                                                   \{}
\DoxyCodeLine{00060   map<string,int> res;}
\DoxyCodeLine{00061   \textcolor{keywordtype}{int} n = stats.size();}
\DoxyCodeLine{00062   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n; ++i) res[names[i]] = stats[i].get\_points();}
\DoxyCodeLine{00063   \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{00064 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tournament_a84e2f41b58f2654ff2b84d18679e1c2c}\label{class_tournament_a84e2f41b58f2654ff2b84d18679e1c2c}} 
\index{Tournament@{Tournament}!has\_started@{has\_started}}
\index{has\_started@{has\_started}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{has\_started()}{has\_started()}}
{\footnotesize\ttfamily bool Tournament\+::has\+\_\+started (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Obtiene el estado del torneo. 

\begin{DoxyPrecond}{Precondición}
{\itshape cierto} 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Retorna el valor de {\ttfamily this-\/\texorpdfstring{$>$}{>}started} 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00070}{70}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00070                                    \{}
\DoxyCodeLine{00071   \textcolor{keywordflow}{return} started;}
\DoxyCodeLine{00072 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tournament_ae54cbe8d2c187903d04e1475d60a2970}\label{class_tournament_ae54cbe8d2c187903d04e1475d60a2970}} 
\index{Tournament@{Tournament}!print\_starting\_pairs@{print\_starting\_pairs}}
\index{print\_starting\_pairs@{print\_starting\_pairs}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{print\_starting\_pairs()}{print\_starting\_pairs()}}
{\footnotesize\ttfamily void Tournament\+::print\+\_\+starting\+\_\+pairs (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Imprime el cuadro de resultados. 

\begin{DoxyPrecond}{Precondición}
Se ha finalizado el torneo al menos una vez 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
En el canal de salida hay el cuadro de resultados escrito con el mismo formato que el juego de pruebas público
\end{DoxyPostcond}
Imprime la tabla de emparejamientos \begin{DoxyPrecond}{Precondición}
Se ha empezado el torneo al menos una vez 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
En el canal de salida hay el cuadro de emparejamientos de jugadores inscritos. 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00215}{215}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00215                                       \{}
\DoxyCodeLine{00216   pairings(results, 1, 2, names.size());}
\DoxyCodeLine{00217   print\_pairings(results);}
\DoxyCodeLine{00218   cout << endl;}
\DoxyCodeLine{00219 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tournament_aabebb280fb2d4da7e95160a055cde31c}\label{class_tournament_aabebb280fb2d4da7e95160a055cde31c}} 
\index{Tournament@{Tournament}!remove\_player\_from\_results@{remove\_player\_from\_results}}
\index{remove\_player\_from\_results@{remove\_player\_from\_results}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{remove\_player\_from\_results()}{remove\_player\_from\_results()}}
{\footnotesize\ttfamily bool Tournament\+::remove\+\_\+player\+\_\+from\+\_\+results (\begin{DoxyParamCaption}\item[{const string \&}]{name }\end{DoxyParamCaption})}



Elimina un jugador de los resultados antiguos. 

\begin{DoxyPrecond}{Precondición}
{\itshape cierto} 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se elimina del mapa de \textquotesingle{}old\+\_\+results\textquotesingle{} al jugador con id \textquotesingle{}name\textquotesingle{} Retorna cierto si el jugador existía en el torneo. 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00041}{41}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00041                                                               \{}
\DoxyCodeLine{00042   map<string,int>::iterator it = old\_results.find(name);}
\DoxyCodeLine{00043   \textcolor{keywordflow}{if} (it != old\_results.end()) \{}
\DoxyCodeLine{00044     old\_results.erase(it);}
\DoxyCodeLine{00045     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00046   \}}
\DoxyCodeLine{00047   \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00048     \textcolor{keywordtype}{int} n = stats.size();}
\DoxyCodeLine{00049     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n; ++i) \{}
\DoxyCodeLine{00050       \textcolor{keywordflow}{if} (names[i] == name) \{}
\DoxyCodeLine{00051         stats[i].clear();}
\DoxyCodeLine{00052         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{00053       \}}
\DoxyCodeLine{00054     \}}
\DoxyCodeLine{00055     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{00056   \}}
\DoxyCodeLine{00057 \}}

\end{DoxyCode}
\mbox{\Hypertarget{class_tournament_a472c936ae35e595c94fad08a3d329ae8}\label{class_tournament_a472c936ae35e595c94fad08a3d329ae8}} 
\index{Tournament@{Tournament}!start\_tournament@{start\_tournament}}
\index{start\_tournament@{start\_tournament}!Tournament@{Tournament}}
\doxysubsubsection{\texorpdfstring{start\_tournament()}{start\_tournament()}}
{\footnotesize\ttfamily void Tournament\+::start\+\_\+tournament (\begin{DoxyParamCaption}\item[{const vector$<$ string $>$ \&}]{players }\end{DoxyParamCaption})}



Empieza el torneo. 

\begin{DoxyPrecond}{Precondición}
El torneo no se ha empezado ya (sin antes terminar o que sea la primera vez que se inicia). {\ttfamily players} contiene los identificadores (nombres) de los jugadores ordenados por ranking previo al torneo. {\ttfamily 8 \texorpdfstring{$<$}{<}= players.\+size() \texorpdfstring{$<$}{<}= 2$^\wedge$(K-\/1)}, donde {\ttfamily K = rank\+\_\+scores.\+size()} es el número de rangos. 
\end{DoxyPrecond}
\begin{DoxyPostcond}{Postcondición}
Se inicia el torneo con los jugadores \textquotesingle{}players\textquotesingle{} y se guardan los resultados antiguos en {\ttfamily this-\/\texorpdfstring{$>$}{>}old\+\_\+results} para luego restarse del ranking cuando se llame {\ttfamily this-\/\texorpdfstring{$>$}{>}end\+\_\+tournament(...)} 
\end{DoxyPostcond}


Definición en la línea \mbox{\hyperlink{_tournament_8cc_source_l00011}{11}} del archivo \mbox{\hyperlink{_tournament_8cc_source}{Tournament.\+cc}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00011                                                                \{}
\DoxyCodeLine{00012   started = \textcolor{keyword}{true};}
\DoxyCodeLine{00013   old\_results.clear();}
\DoxyCodeLine{00014   \textcolor{keywordtype}{int} n = stats.size();}
\DoxyCodeLine{00015   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < n; ++i) \{}
\DoxyCodeLine{00016     \textcolor{comment}{//cout << "{}AL JUGADOR "{} << names[i] << "{} ES RESTARAN "{} << stats[i].get\_points() << "{} PUNTS"{} << endl;}}
\DoxyCodeLine{00017     old\_results.insert(pair<string,int>(names[i],stats[i].get\_points()));}
\DoxyCodeLine{00018   \}}
\DoxyCodeLine{00019   names = players;}
\DoxyCodeLine{00020   \mbox{\hyperlink{class_statistics}{Statistics}} st;}
\DoxyCodeLine{00021   st.\mbox{\hyperlink{class_statistics_a41f54794e71c50102dc5cfb5d40297d9}{set\_tournaments}}(1);}
\DoxyCodeLine{00022   stats = vector<Statistics>(players.size(), st);}
\DoxyCodeLine{00023 \}}

\end{DoxyCode}


La documentación para esta clase fue generada a partir de los siguientes ficheros\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{_tournament_8hh}{Tournament.\+hh}}\item 
\mbox{\hyperlink{_tournament_8cc}{Tournament.\+cc}}\end{DoxyCompactItemize}
